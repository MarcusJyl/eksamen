{"ast":null,"code":"import _defineProperty from\"/Users/Marcus/CPHBUSINESS/3.semester/exam/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/Marcus/CPHBUSINESS/3.semester/exam/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/Marcus/CPHBUSINESS/3.semester/exam/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import react,{useState}from\"react\";import{makeOptions,handleHttpErrors}from\"../facades/fetchUtils\";import{bookURL as url}from\"../facades/settings\";import{Table,Form,Button}from\"react-bootstrap\";export default function AddBooks(_ref){var books=_ref.books;var init={isbn:\"\",title:\"\",authors:\"\",publishers:\"\",publishYear:\"\"};var _useState=useState(_objectSpread({},init)),_useState2=_slicedToArray(_useState,2),book=_useState2[0],setBook=_useState2[1];var onChange=function onChange(evt){setBook(_objectSpread(_objectSpread({},book),{},_defineProperty({},evt.target.id,evt.target.value)));};var onClick=function onClick(evt){evt.preventDefault();var options=makeOptions(\"POST\",true,book);fetch(url,options).then(handleHttpErrors).then(function(data){setBook(_objectSpread({},init));}).catch(function(err){if(err.status){err.fullError.then(function(e){return alert(e.message);});}else{console.log(\"Network error\");}});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Book\"}),/*#__PURE__*/_jsxs(Form.Group,{onChange:onChange,className:\"m-5\",children:[/*#__PURE__*/_jsx(Form.Label,{for:\"isbn\",children:\"First name:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:\"isbn\",name:\"fname\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Label,{for:\"title\",children:\"Last name:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:\"title\",name:\"lname\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Label,{for:\"authors\",children:\"Last author:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:\"authors\",name:\"lname\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Label,{for:\"publishers\",children:\"publisher\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:\"publishers\",name:\"lname\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Label,{for:\"publishYear\",children:\"publishYear:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:\"publishYear\",name:\"lname\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:onClick,children:\"Send\"})]})]});}","map":{"version":3,"sources":["/Users/Marcus/CPHBUSINESS/3.semester/exam/frontend/src/components/AddBooks.js"],"names":["react","useState","makeOptions","handleHttpErrors","bookURL","url","Table","Form","Button","AddBooks","books","init","isbn","title","authors","publishers","publishYear","book","setBook","onChange","evt","target","id","value","onClick","preventDefault","options","fetch","then","data","catch","err","status","fullError","e","alert","message","console","log"],"mappings":"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","sourcesContent":["import react, { useState } from \"react\";\nimport {makeOptions, handleHttpErrors} from \"../facades/fetchUtils\";\nimport {bookURL as url} from \"../facades/settings\"\nimport {Table, Form, Button } from \"react-bootstrap\";\n\nexport default function AddBooks({books}){\n    const init = {\n        isbn: \"\",\n        title: \"\",\n        authors: \"\",\n        publishers: \"\",\n        publishYear: \"\",         \n    }\n\n    const [book, setBook] = useState({...init})\n\n    const onChange = (evt) => {\n        setBook({\n          ...book,\n          [evt.target.id]: evt.target.value,\n        });\n      };\n\n    const onClick = (evt) =>{\n        evt.preventDefault();\n        const options = makeOptions(\"POST\", true, book);\n        fetch(url, options)\n            .then(handleHttpErrors)\n            .then((data) => {\n                setBook({...init}) \n            })\n            .catch(err =>{\n                if(err.status){\n                  err.fullError.then(e=> alert(e.message))\n                }\n                else{console.log(\"Network error\"); }\n             });\n            \n        }\n    \n    return(\n        <div>\n             <h1>Add Book</h1>\n            <Form.Group onChange={onChange} className=\"m-5\"> \n                <Form.Label for=\"isbn\">First name:</Form.Label><br/>\n                <Form.Control type=\"text\" id=\"isbn\" name=\"fname\"/><br/>\n                <Form.Label for=\"title\">Last name:</Form.Label><br/>\n                <Form.Control type=\"text\" id=\"title\" name=\"lname\"/><br/>\n                <Form.Label for=\"authors\">Last author:</Form.Label><br/>\n                <Form.Control type=\"text\" id=\"authors\" name=\"lname\"/><br/>\n                <Form.Label for=\"publishers\">publisher</Form.Label><br/>\n                <Form.Control type=\"text\" id=\"publishers\" name=\"lname\"/><br/>\n                <Form.Label for=\"publishYear\">publishYear:</Form.Label><br/>\n                <Form.Control type=\"text\" id=\"publishYear\" name=\"lname\"/><br/>\n                <Button type=\"button\" onClick={onClick}>Send</Button>\n            </Form.Group>\n        </div>\n    )\n\n}\n"]},"metadata":{},"sourceType":"module"}