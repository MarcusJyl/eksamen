{"ast":null,"code":"import _slicedToArray from\"/Users/Marcus/CPHBUSINESS/3.semester/exam/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import Navbar from\"./components/Navbar\";import\"./App.css\";import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import Login from\"./components/Login\";import facade from\"./facades/LoginFacade\";import Home from\"./components/Home\";import Signup from\"./components/Signup\";import Kanye from\"./components/KanyeQuote\";import AllNames from\"./components/names\";import AddBooks from\"./components/AddBooks\";import DeleteBook from\"./components/DeleteBook\";function App(){var _useState=useState(\"Loading...\"),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loggedIn=_useState4[0],setLoggedIn=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),userRole=_useState6[0],setUserRole=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),books=_useState8[0],setBooks=_useState8[1];var login=function login(user,pass){facade.login(user,pass).then(function(res){setLoggedIn(true);}).catch(function(err){if(err.status){err.fullError.then(function(e){setUser(e.message);});}else{console.log(\"Network error\");}});};var logout=function logout(){facade.logout();setUser(\"Loading...\");setLoggedIn(false);setUserRole([]);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Navbar,{userRole:userRole}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Home,{books:books,setBooks:setBooks})}),/*#__PURE__*/_jsxs(Route,{path:\"/edit-book\",children:[/*#__PURE__*/_jsx(AddBooks,{books:books}),/*#__PURE__*/_jsx(DeleteBook,{books:books})]}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",children:/*#__PURE__*/_jsx(Login,{userRole:userRole,setUserRole:setUserRole,login:login,setUser:setUser,user:user,loggedIn:loggedIn,logout:logout,setLoggedIn:setLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",children:/*#__PURE__*/_jsx(Signup,{userRole:userRole,setUserRole:setUserRole,login:login,setUser:setUser,user:user,loggedIn:loggedIn,logout:logout,setLoggedIn:setLoggedIn})})]})]})});}export default App;","map":{"version":3,"sources":["/Users/Marcus/CPHBUSINESS/3.semester/exam/frontend/src/App.js"],"names":["React","useEffect","useState","Navbar","BrowserRouter","Router","Switch","Route","Login","facade","Home","Signup","Kanye","AllNames","AddBooks","DeleteBook","App","user","setUser","loggedIn","setLoggedIn","userRole","setUserRole","books","setBooks","login","pass","then","res","catch","err","status","fullError","e","message","console","log","logout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport facade from \"./facades/LoginFacade\";\nimport Home from \"./components/Home\";\nimport Signup from \"./components/Signup\";\nimport Kanye from \"./components/KanyeQuote\";\nimport AllNames from \"./components/names\";\nimport AddBooks from \"./components/AddBooks\";\nimport DeleteBook from \"./components/DeleteBook\";\n\nfunction App() {\n  const [user, setUser] = useState(\"Loading...\");\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userRole, setUserRole] = useState([]);\n  const [books, setBooks] = useState([])\n\n  const login = (user, pass) => {\n    facade\n      .login(user, pass)\n      .then((res) => {\n        setLoggedIn(true);\n      })\n      .catch((err) => {\n        if (err.status) {\n          err.fullError.then((e) => {\n            setUser(e.message);\n          });\n        } else {\n          console.log(\"Network error\");\n        }\n      });\n  };\n\n  const logout = () => {\n    facade.logout();\n    setUser(\"Loading...\");\n    setLoggedIn(false);\n    setUserRole([]);\n  };\n\n  return (\n    <>\n      <Router>\n        <Navbar userRole={userRole}/>\n        <Switch>\n          <Route path=\"/\" exact>\n            <Home books={books} setBooks={setBooks}/>\n          </Route>\n          <Route path=\"/edit-book\">\n            <AddBooks books={books} />\n            <DeleteBook books={books}/>\n          </Route>\n          <Route path=\"/signin\">\n            <Login\n              userRole={userRole}\n              setUserRole={setUserRole}\n              login={login}\n              setUser={setUser}\n              user={user}\n              loggedIn={loggedIn}\n              logout={logout}\n              setLoggedIn={setLoggedIn}\n            />\n          </Route>\n          <Route path=\"/signup\">\n            <Signup\n              userRole={userRole}\n              setUserRole={setUserRole}\n              login={login}\n              setUser={setUser}\n              user={user}\n              loggedIn={loggedIn}\n              logout={logout}\n              setLoggedIn={setLoggedIn}\n            />\n          </Route>\n        </Switch>\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}