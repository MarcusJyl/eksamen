{"ast":null,"code":"import _defineProperty from\"/Users/Marcus/CPHBUSINESS/3.semester/exam/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/Marcus/CPHBUSINESS/3.semester/exam/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/Marcus/CPHBUSINESS/3.semester/exam/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{useState}from\"react\";import{makeOptions,handleHttpErrors}from\"../facades/fetchUtils\";import{bookURL as url}from\"../facades/settings\";import{Table,Form,Button}from\"react-bootstrap\";export default function DeleteBook(_ref){var books=_ref.books;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),bookId=_useState2[0],setBookId=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),selectedBook=_useState4[0],setSelectedBook=_useState4[1];var onChange=function onChange(evt){setBookId(evt.target.value);};var onEdit=function onEdit(evt){setSelectedBook(_objectSpread(_objectSpread({},selectedBook),{},_defineProperty({},evt.target.id,evt.target.value)));};var onClick=function onClick(evt){evt.preventDefault();var options=makeOptions(\"DELETE\",true);fetch(url+bookId,options).then(handleHttpErrors).then(function(data){});};var onClickEdit=function onClickEdit(evt){evt.preventDefault();var options=makeOptions(\"PUT\",true,selectedBook);fetch(url+selectedBook.id,options).then(handleHttpErrors).then(function(data){setSelectedBook({});});};var Push=function Push(book){//kloner book opbjektet\nsetSelectedBook(_objectSpread({},book));console.log(book);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"isbn\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"td\",{children:\"author\"}),/*#__PURE__*/_jsx(\"td\",{children:\"publisher\"}),/*#__PURE__*/_jsx(\"td\",{children:\"publish year\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:books.map(function(p){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return Push(p);},children:[/*#__PURE__*/_jsx(\"td\",{children:p.isbn}),/*#__PURE__*/_jsx(\"td\",{children:p.title}),/*#__PURE__*/_jsx(\"td\",{children:p.authors}),/*#__PURE__*/_jsx(\"td\",{children:p.publisher}),/*#__PURE__*/_jsx(\"td\",{children:p.publishYear})]},p.isbn);})})]}),/*#__PURE__*/_jsxs(Form.Group,{onChange:onChange,className:\"m-5\",children:[/*#__PURE__*/_jsx(Form.Label,{for:\"bookId\",children:\"ID of book to be deleted:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:\"bookId\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:onClick,children:\"Delete\"})]}),/*#__PURE__*/_jsxs(Form.Group,{onChange:onEdit,className:\"m-5\",children:[/*#__PURE__*/_jsx(Form.Label,{for:\"isbn\",children:\"First name:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{value:selectedBook.isbn,type:\"text\",id:\"isbn\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Label,{for:\"title\",children:\"Last name:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{value:selectedBook.title,type:\"text\",id:\"title\",name:\"lname\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Label,{for:\"authors\",children:\"Last author:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{value:selectedBook.authors,type:\"text\",id:\"authors\",name:\"lname\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Label,{for:\"publishers\",children:\"publisher\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{value:selectedBook.publisher,type:\"text\",id:\"publishers\",name:\"lname\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Label,{for:\"publishYear\",children:\"publishYear:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{value:selectedBook.publishYear,type:\"text\",id:\"publishYear\",name:\"lname\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:onClickEdit,children:\"Send\"})]})]});}","map":{"version":3,"sources":["/Users/Marcus/CPHBUSINESS/3.semester/exam/frontend/src/components/DeleteBook.js"],"names":["useState","makeOptions","handleHttpErrors","bookURL","url","Table","Form","Button","DeleteBook","books","bookId","setBookId","selectedBook","setSelectedBook","onChange","evt","target","value","onEdit","id","onClick","preventDefault","options","fetch","then","data","onClickEdit","Push","book","console","log","map","p","isbn","title","authors","publisher","publishYear"],"mappings":"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","sourcesContent":["import { useState } from \"react\"\nimport {makeOptions, handleHttpErrors} from \"../facades/fetchUtils\";\nimport {bookURL as url} from \"../facades/settings\"\nimport {Table, Form, Button } from \"react-bootstrap\";\n\n\nexport default function DeleteBook({books}){\n\n    const[bookId, setBookId] = useState(\"\");\n    const[selectedBook, setSelectedBook] = useState({});\n\n    const onChange = (evt) => {\n        setBookId(evt.target.value)\n    }\n\n    const onEdit = (evt) => {\n        setSelectedBook({\n          ...selectedBook,\n          [evt.target.id]: evt.target.value,\n        });\n      };\n\n      const onClick = (evt) =>{\n        evt.preventDefault();\n        const options = makeOptions(\"DELETE\", true);\n        fetch(url + bookId, options)\n            .then(handleHttpErrors)\n            .then((data) => {})\n        }\n\n        const onClickEdit = (evt) =>{\n            evt.preventDefault();\n            const options = makeOptions(\"PUT\", true, selectedBook);\n            fetch(url + selectedBook.id, options)\n                .then(handleHttpErrors)\n                .then((data) => {\n                    setSelectedBook({}) \n                })\n            }\n\n        const Push = (book)=>{\n            //kloner book opbjektet\n            setSelectedBook({...book})\n            console.log(book)\n        }\n\n        \n    return(\n        <div>\n            <Table>\n                <thead><tr><td>isbn</td>\n                <td>Title</td>\n                <td>author</td>\n                <td>publisher</td>\n                <td>publish year</td></tr></thead>\n                <tbody>{books.map((p) => {\n                    return (\n                        <tr onClick={() => Push(p)} key={p.isbn}>\n                          <td>{p.isbn}</td>\n                          <td>{p.title}</td>\n                          <td>{p.authors}</td>\n                          <td>{p.publisher}</td>\n                          <td>{p.publishYear}</td></tr>\n                        )\n                })}</tbody>\n            </Table>\n            <Form.Group onChange={onChange} className=\"m-5\">\n                <Form.Label for=\"bookId\">ID of book to be deleted:</Form.Label><br/>\n                <Form.Control type=\"text\" id=\"bookId\"/><br/>\n                <Button type=\"button\" onClick={onClick}>Delete</Button>\n            </Form.Group>\n            <Form.Group onChange={onEdit} className=\"m-5\"> \n                <Form.Label for=\"isbn\">First name:</Form.Label><br/>\n                <Form.Control value={selectedBook.isbn} type=\"text\" id=\"isbn\"/><br/>\n                <Form.Label for=\"title\">Last name:</Form.Label><br/>\n                <Form.Control value={selectedBook.title} type=\"text\" id=\"title\" name=\"lname\"/><br/>\n                <Form.Label for=\"authors\">Last author:</Form.Label><br/>\n                <Form.Control value={selectedBook.authors} type=\"text\" id=\"authors\" name=\"lname\"/><br/>\n                <Form.Label for=\"publishers\">publisher</Form.Label><br/>\n                <Form.Control value={selectedBook.publisher}type=\"text\" id=\"publishers\" name=\"lname\"/><br/>\n                <Form.Label for=\"publishYear\">publishYear:</Form.Label><br/>\n                <Form.Control value={selectedBook.publishYear}type=\"text\" id=\"publishYear\" name=\"lname\"/><br/>\n                <Button type=\"button\" onClick={onClickEdit}>Send</Button>\n            </Form.Group>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}