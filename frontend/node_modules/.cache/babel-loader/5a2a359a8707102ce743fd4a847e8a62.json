{"ast":null,"code":"var status=utils();export function handleHttpErrors(res){if(!res.ok){return Promise.reject({status:res.status,fullError:res.json()});}return res.json();}export var makeOptions=function makeOptions(method,addToken,body){var opts={method:method,headers:{\"Content-type\":\"application/json\",Accept:\"application/json\"}};if(addToken&&status.loggedIn){opts.headers[\"x-access-token\"]=status.getToken();}if(body){opts.body=JSON.stringify(body);}return opts;};function utils(){var setToken=function setToken(token){localStorage.setItem(\"jwtToken\",token);};var getToken=function getToken(){return localStorage.getItem(\"jwtToken\");};var loggedIn=function loggedIn(){var loggedIn=getToken()!=null;console.log(loggedIn);return loggedIn;};var logout=function logout(){localStorage.removeItem(\"jwtToken\");};return{setToken:setToken,getToken:getToken,loggedIn:loggedIn,logout:logout};}export default status;//  default token;","map":{"version":3,"sources":["/Users/Marcus/CPHBUSINESS/3.semester/CA3_Personal_frontend/frontend/src/facades/fetchUtils.js"],"names":["status","utils","handleHttpErrors","res","ok","Promise","reject","fullError","json","makeOptions","method","addToken","body","opts","headers","Accept","loggedIn","getToken","JSON","stringify","setToken","token","localStorage","setItem","getItem","console","log","logout","removeItem"],"mappings":"AAAA,GAAMA,CAAAA,MAAM,CAAGC,KAAK,EAApB,CAEA,MAAO,SAASC,CAAAA,gBAAT,CAA0BC,GAA1B,CAA+B,CACpC,GAAI,CAACA,GAAG,CAACC,EAAT,CAAa,CACX,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAe,CAAEN,MAAM,CAAEG,GAAG,CAACH,MAAd,CAAsBO,SAAS,CAAEJ,GAAG,CAACK,IAAJ,EAAjC,CAAf,CAAP,CACD,CACD,MAAOL,CAAAA,GAAG,CAACK,IAAJ,EAAP,CACD,CAED,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,MAAD,CAASC,QAAT,CAAmBC,IAAnB,CAA4B,CACrD,GAAIC,CAAAA,IAAI,CAAG,CACTH,MAAM,CAAEA,MADC,CAETI,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,MAAM,CAAE,kBAFD,CAFA,CAAX,CAOA,GAAIJ,QAAQ,EAAIX,MAAM,CAACgB,QAAvB,CAAiC,CAC/BH,IAAI,CAACC,OAAL,CAAa,gBAAb,EAAiCd,MAAM,CAACiB,QAAP,EAAjC,CACD,CACD,GAAIL,IAAJ,CAAU,CACRC,IAAI,CAACD,IAAL,CAAYM,IAAI,CAACC,SAAL,CAAeP,IAAf,CAAZ,CACD,CACD,MAAOC,CAAAA,IAAP,CACD,CAfM,CAiBP,QAASZ,CAAAA,KAAT,EAAiB,CACf,GAAMmB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CAC1BC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCF,KAAjC,EACD,CAFD,CAGA,GAAMJ,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,MAAOK,CAAAA,YAAY,CAACE,OAAb,CAAqB,UAArB,CAAP,CACD,CAFD,CAGA,GAAMR,CAAAA,QAAQ,CAAG,mBAAM,CACrB,GAAMA,CAAAA,QAAQ,CAAGC,QAAQ,IAAM,IAA/B,CACAQ,OAAO,CAACC,GAAR,CAAYV,QAAZ,EACA,MAAOA,CAAAA,QAAP,CACD,CAJD,CAKA,GAAMW,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBL,YAAY,CAACM,UAAb,CAAwB,UAAxB,EACD,CAFD,CAGA,MAAO,CACLR,QAAQ,CAARA,QADK,CAELH,QAAQ,CAARA,QAFK,CAGLD,QAAQ,CAARA,QAHK,CAILW,MAAM,CAANA,MAJK,CAAP,CAMD,CAED,cAAe3B,CAAAA,MAAf,CAEA","sourcesContent":["const status = utils();\n\nexport function handleHttpErrors(res) {\n  if (!res.ok) {\n    return Promise.reject({ status: res.status, fullError: res.json() });\n  }\n  return res.json();\n}\n\nexport const makeOptions = (method, addToken, body) => {\n  var opts = {\n    method: method,\n    headers: {\n      \"Content-type\": \"application/json\",\n      Accept: \"application/json\",\n    },\n  };\n  if (addToken && status.loggedIn) {\n    opts.headers[\"x-access-token\"] = status.getToken();\n  }\n  if (body) {\n    opts.body = JSON.stringify(body);\n  }\n  return opts;\n};\n\nfunction utils() {\n  const setToken = (token) => {\n    localStorage.setItem(\"jwtToken\", token);\n  };\n  const getToken = () => {\n    return localStorage.getItem(\"jwtToken\");\n  };\n  const loggedIn = () => {\n    const loggedIn = getToken() != null;\n    console.log(loggedIn);\n    return loggedIn;\n  };\n  const logout = () => {\n    localStorage.removeItem(\"jwtToken\");\n  };\n  return {\n    setToken,\n    getToken,\n    loggedIn,\n    logout,\n  };\n}\n\nexport default status;\n\n//  default token;\n"]},"metadata":{},"sourceType":"module"}