{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/Marcus/CPHBUSINESS/3.semester/CA3_Personal_frontend/frontend/src/components/Signup.js\",\n    _s = $RefreshSig$();\n\nimport facade from \"../facades/LoginFacade\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Login.css\";\nimport { Link } from \"react-router-dom\";\n\nfunction Signup({\n  login,\n  user\n}) {\n  _s();\n\n  const init = {\n    username: \"\",\n    password1: \"\",\n    password2: \"\"\n  };\n  const [loginCredentials, setLoginCredentials] = useState(init);\n  const [error, setError] = useState(\"\");\n\n  const performLogin = evt => {\n    evt.preventDefault();\n\n    if (loginCredentials.password1.length > 0 && loginCredentials.password2.length > 0 && loginCredentials.username.length > 0) {\n      if (loginCredentials.password1 === loginCredentials.password2) {\n        facade.signup(loginCredentials.username, loginCredentials.password1).then(data => console.log(data)).catch(err => {\n          if (err.status) {\n            err.fullError.then(e => {\n              setError(e.message);\n            });\n          } else {\n            setError(\"Network error\");\n          }\n        });\n      } else {\n        setError(\"Password doesn't match\");\n      }\n    } else {\n      setError(\"You must write in all fields\");\n    }\n  };\n\n  const onChange = evt => {\n    setLoginCredentials({ ...loginCredentials,\n      [evt.target.id]: evt.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Sign-up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onChange: onChange,\n      className: \"form__group\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"input\",\n          className: \"form__field\",\n          placeholder: \"Name\",\n          name: \"username\",\n          id: \"username\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form__field\",\n          placeholder: \"Password\",\n          name: \"password1\",\n          id: \"password1\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form__field\",\n          placeholder: \"Password\",\n          name: \"password2\",\n          id: \"password2\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: performLogin,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), user !== \"Loading...\" ? user : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \" \"\n    }, void 0, false), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/signup\",\n      children: \"Sign-up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signup, \"yEHt1rXVp7rMnwO7HTNUByocROI=\");\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/Users/Marcus/CPHBUSINESS/3.semester/CA3_Personal_frontend/frontend/src/components/Signup.js"],"names":["facade","React","useState","useEffect","Link","Signup","login","user","init","username","password1","password2","loginCredentials","setLoginCredentials","error","setError","performLogin","evt","preventDefault","length","signup","then","data","console","log","catch","err","status","fullError","e","message","onChange","target","id","value"],"mappings":"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","sourcesContent":["import facade from \"../facades/LoginFacade\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Login.css\";\nimport { Link } from \"react-router-dom\";\n\nfunction Signup({ login, user }) {\n  const init = { username: \"\", password1: \"\", password2: \"\" };\n  const [loginCredentials, setLoginCredentials] = useState(init);\n  const [error, setError] = useState(\"\");\n\n  const performLogin = (evt) => {\n    evt.preventDefault();\n    if (\n      loginCredentials.password1.length > 0 &&\n      loginCredentials.password2.length > 0 &&\n      loginCredentials.username.length > 0\n    ) {\n      if (loginCredentials.password1 === loginCredentials.password2) {\n        facade\n          .signup(loginCredentials.username, loginCredentials.password1)\n          .then((data) => console.log(data))\n          .catch((err) => {\n            if (err.status) {\n              err.fullError.then((e) => {\n                setError(e.message);\n              });\n            } else {\n              setError(\"Network error\");\n            }\n          });\n      } else {\n        setError(\"Password doesn't match\");\n      }\n    } else {\n        setError(\"You must write in all fields\");\n    }\n  };\n  const onChange = (evt) => {\n    setLoginCredentials({\n      ...loginCredentials,\n      [evt.target.id]: evt.target.value,\n    });\n  };\n\n  return (\n    <div className=\"login\">\n      <h2>Sign-up</h2>\n      <form onChange={onChange} className=\"form__group\">\n        <div className=\"input\">\n          <input\n            type=\"input\"\n            className=\"form__field\"\n            placeholder=\"Name\"\n            name=\"username\"\n            id=\"username\"\n            required\n          />\n        </div>\n        <div className=\"input\">\n          <input\n            type=\"password\"\n            className=\"form__field\"\n            placeholder=\"Password\"\n            name=\"password1\"\n            id=\"password1\"\n            required\n          />\n        </div>\n        <div className=\"input\">\n          <input\n            type=\"password\"\n            className=\"form__field\"\n            placeholder=\"Password\"\n            name=\"password2\"\n            id=\"password2\"\n            required\n          />\n        </div>\n        <button onClick={performLogin}>Login</button>\n      </form>\n      {user !== \"Loading...\" ? user : <> </>}\n      <Link to=\"/signup\">Sign-up</Link>\n      <p>{error}</p>\n    </div>\n  );\n}\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}