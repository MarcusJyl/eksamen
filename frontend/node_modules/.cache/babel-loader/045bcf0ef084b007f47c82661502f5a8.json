{"ast":null,"code":"import _defineProperty from\"/Users/Marcus/CPHBUSINESS/3.semester/CA3_Personal_frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/Marcus/CPHBUSINESS/3.semester/CA3_Personal_frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/Marcus/CPHBUSINESS/3.semester/CA3_Personal_frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import facade from\"../facades/LoginFacade\";import React,{useState,useEffect}from\"react\";import\"./Login.css\";import{Link}from\"react-router-dom\";function Signup(_ref){var login=_ref.login,user=_ref.user;var init={username:\"\",password1:\"\",password2:\"\"};var _useState=useState(init),_useState2=_slicedToArray(_useState,2),loginCredentials=_useState2[0],setLoginCredentials=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var performLogin=function performLogin(evt){evt.preventDefault();if(loginCredentials.password1.length>0&&loginCredentials.password2.length>0&&loginCredentials.username.length>0){if(loginCredentials.password1===loginCredentials.password2){facade.signup(loginCredentials.username,loginCredentials.password1).then(function(data){return console.log(data);}).catch(function(err){if(err.status){err.fullError.then(function(e){setError(e.message);});}else{setError(\"Network error\");}});}else{setError(\"Password doesn't match\");}}else{setError(\"You must write in all fields\");}};var onChange=function onChange(evt){setLoginCredentials(_objectSpread(_objectSpread({},loginCredentials),{},_defineProperty({},evt.target.id,evt.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign-up\"}),/*#__PURE__*/_jsxs(\"form\",{onChange:onChange,className:\"form__group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form__field\",placeholder:\"Name\",name:\"username\",id:\"username\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form__field\",placeholder:\"Password\",name:\"password1\",id:\"password1\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form__field\",placeholder:\"Password\",name:\"password2\",id:\"password2\",required:true})}),/*#__PURE__*/_jsx(\"button\",{onClick:performLogin,children:\"Login\"})]}),user!==\"Loading...\"?user:/*#__PURE__*/_jsx(_Fragment,{children:\" \"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign-up\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]});}export default Signup;","map":{"version":3,"sources":["/Users/Marcus/CPHBUSINESS/3.semester/CA3_Personal_frontend/frontend/src/components/Signup.js"],"names":["facade","React","useState","useEffect","Link","Signup","login","user","init","username","password1","password2","loginCredentials","setLoginCredentials","error","setError","performLogin","evt","preventDefault","length","signup","then","data","console","log","catch","err","status","fullError","e","message","onChange","target","id","value"],"mappings":"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","sourcesContent":["import facade from \"../facades/LoginFacade\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Login.css\";\nimport { Link } from \"react-router-dom\";\n\nfunction Signup({ login, user }) {\n  const init = { username: \"\", password1: \"\", password2: \"\" };\n  const [loginCredentials, setLoginCredentials] = useState(init);\n  const [error, setError] = useState(\"\");\n\n  const performLogin = (evt) => {\n    evt.preventDefault();\n    if (\n      loginCredentials.password1.length > 0 &&\n      loginCredentials.password2.length > 0 &&\n      loginCredentials.username.length > 0\n    ) {\n      if (loginCredentials.password1 === loginCredentials.password2) {\n        facade\n          .signup(loginCredentials.username, loginCredentials.password1)\n          .then((data) => console.log(data))\n          .catch((err) => {\n            if (err.status) {\n              err.fullError.then((e) => {\n                setError(e.message);\n              });\n            } else {\n              setError(\"Network error\");\n            }\n          });\n      } else {\n        setError(\"Password doesn't match\");\n      }\n    } else {\n        setError(\"You must write in all fields\");\n    }\n  };\n  const onChange = (evt) => {\n    setLoginCredentials({\n      ...loginCredentials,\n      [evt.target.id]: evt.target.value,\n    });\n  };\n\n  return (\n    <div className=\"login\">\n      <h2>Sign-up</h2>\n      <form onChange={onChange} className=\"form__group\">\n        <div className=\"input\">\n          <input\n            type=\"input\"\n            className=\"form__field\"\n            placeholder=\"Name\"\n            name=\"username\"\n            id=\"username\"\n            required\n          />\n        </div>\n        <div className=\"input\">\n          <input\n            type=\"password\"\n            className=\"form__field\"\n            placeholder=\"Password\"\n            name=\"password1\"\n            id=\"password1\"\n            required\n          />\n        </div>\n        <div className=\"input\">\n          <input\n            type=\"password\"\n            className=\"form__field\"\n            placeholder=\"Password\"\n            name=\"password2\"\n            id=\"password2\"\n            required\n          />\n        </div>\n        <button onClick={performLogin}>Login</button>\n      </form>\n      {user !== \"Loading...\" ? user : <> </>}\n      <Link to=\"/signup\">Sign-up</Link>\n      <p>{error}</p>\n    </div>\n  );\n}\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}